<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="mainex.css" />
        <link rel="stylesheet" href="chart.css" />
        <header>
            <h1><h1> Running Shoe <br> Mileage Tracker</h1></h1>
            <nav>
                <!-- Menu is a semantic alternative to <ul> that represents an interaction -->
                <menu>
                <li><a style = "color:aliceblue" href="index.html">Home</a></li>
                <li><a style = "color:aliceblue" href="shoe.html">Add Miles</a></li>
                <li><a style = "color:aliceblue" href="chart.html">Mileage Chart</a></li>
                <li><a style = "color:aliceblue" href="about.html">About</a></li>
                </menu>

            </nav>
        </header>
        
            
    
    </head>

    <main>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
            .center-text {
                text-align: center;
            }
            
        </style>
        <h2 class= "center-text" >Mileage Graph </h2>
        <body>
            <canvas id="myBarChart" width="400" height="200">    
            </canvas>

            <!--<table id="table-data">
                <tr>
                  <th style="height: 10px;">S</th>
                  <td style="height: 10px">miles</td>
                </tr>
                <tr>
                  <th>Shoe</th>
                  <td>miles</td>
                </tr>
                <tr>
                    <th>Shoe</th>
                    <td>miles</td>
                </tr>
              </table> -->
            </body>
        <!-- <p class= "center-text" style="color: red" >I think I can make a table with JS ? if so I plan on doing that. Also maybe a chart of other users mileage </p> -->
        
    </main>

    <footer> consistent competence = eventual excellence 
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
                <script> src="chart.js"
                    const ShoeList = [];
                    const MileList = [];
                    const canvas = document.getElementById('myBarChart');
                    const username = localStorage.getItem("Username");
                    const userData = JSON.parse(localStorage.getItem('usermap'));
                    //console.log('notworked')
                    if (userData[username] !== undefined) {
                        const userShoeData = userData[username];
                        //console.log("worked")
                        //console.log(userShoeData)
                    for (const data of userShoeData) {
                        const shoe = data.shoe;
                        const miles = data.miles;
                        ShoeList.push(shoe)
                        MileList.push(miles)
                        //console.log(shoe)
                        //console.log(miles)
                    }}
                    
                    // Create a data object with your data
                    const data = {
                        labels: ShoeList, //[localStorage.getItem("shoe"), localStorage.getItem("Username"), parseFloat(localStorage.getItem("miles")), 'Category 4', 'bruh', 'bruh', 'bruh'],
                        datasets: [{
                            label: 'Miles',
                            data:  MileList, //[parseFloat(localStorage.getItem("miles")), 50, 20, 45, 63, 12, 1, 39], // how do I add more columns for each she ect
                            backgroundColor: 'rgba(100, 100, 100, 0.2)', // Bar color
                            borderColor: 'rgba(22, 22, 210, 1)', // Border color
                            borderWidth: 1, // Border width
                        }]
                    };
                    
                    // Create a chart
                    const ctx = canvas.getContext('2d');
                    const myBarChart = new Chart(ctx, {
                        type: 'bar', // Specify the chart type
                        data: data,
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true // Start the Y-axis from 0
                                }
                            }
                        }
                    }); 
                    </script>
    </footer>
</html>

<!--use float for the chart??-->